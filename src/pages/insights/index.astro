---
import { Button } from "@/components/ui/button";
import Layout from "@/layouts/Layout.astro";

const insights = Object.values(
	import.meta.glob("../insights/*.md", { eager: true }),
);
---

<Layout
  title="Ayie | Insights"
  description="This is where i share my thoughts about design and development"
>
  <section>
    <h1 class="text-5xl font-semibold tracking-tight scroll-m-20">insights</h1>
    <ul class="my-6 ml-6 list-none [&>li]:mt-2">
      {
        insights.map((insight, _idx) => {
          const item = insight as {
            url: string;
            frontmatter: { title: string; date: string };
          };
          return (
            <Button asChild variant="link">
              <a href={`${item.url}`} class="text-sm flex items-center gap-3">
                <time
                  datetime={`${item.frontmatter.date}`}
                  class="whitespace-nowrap text-muted-foreground text-sm"
                  transition:name={`post-date`}
                >
                  {item.frontmatter.date}
                </time>
                <p
                  class="text-base font-semibold text-primary"
                  transition:name={`post-title`}
                >
                  {item.frontmatter.title}
                </p>
              </a>
            </Button>
          );
        })
      }
    </ul>
  </section>
</Layout>
